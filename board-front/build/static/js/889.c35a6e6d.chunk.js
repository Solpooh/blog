"use strict";(self.webpackChunkboard_front=self.webpackChunkboard_front||[]).push([[889],{1277:(t,e,r)=>{r.d(e,{a:()=>a});var o=r(5043),n=r(4410),i=r(4291),s=r(579);const a=t=>{let{getEditorState:e,setEditorState:r}=t;const[a,c]=(0,o.useState)(!1),l=Object.keys(i._).filter((t=>t.startsWith("CUSTOM_COLOR_"))),d=Object.keys(i._).filter((t=>t.startsWith("CUSTOM_BACKGROUND_"))),u=t=>{const o=n.RichUtils.toggleInlineStyle(e(),t);r(o)};return(0,o.useEffect)((()=>{c(!1)}),[]),(0,s.jsxs)("div",{className:"color-button-container",children:[(0,s.jsx)("button",{className:"color-toggle-button",onClick:()=>c(!a)}),a&&(0,s.jsxs)("div",{className:"color-popup",children:[(0,s.jsxs)("div",{className:"color-section",children:[(0,s.jsx)("div",{className:"color-section-title",children:"\ud14d\uc2a4\ud2b8 \uc0c9\uc0c1"}),(0,s.jsx)("div",{className:"color-buttons",children:l.map((t=>(0,s.jsx)("button",{className:"color-button",onClick:()=>u(t),style:{backgroundColor:i._[t]}},t)))})]}),(0,s.jsxs)("div",{className:"color-section",children:[(0,s.jsx)("div",{className:"color-section-title",children:"\ubc30\uacbd \uc0c9\uc0c1"}),(0,s.jsx)("div",{className:"color-buttons",children:d.map((t=>(0,s.jsx)("button",{className:"color-button",onClick:()=>u(t),style:{backgroundColor:i._[t]}},t)))})]})]})]})}},7712:(t,e,r)=>{r.d(e,{A:()=>a});var o=r(5043),n=r(4410),i=r(4990),s=r(579);const a=t=>{let{block:e,contentState:r}=t;const{imageInputRef:a}=(0,i.Nq)(),{boardImageFileList:c,setBoardImageFileList:l}=(0,i.Nq)(),{editorState:d,setEditorState:u}=(0,i.Uw)(),[E,S]=(0,o.useState)([]),{src:g,id:C}=r.getEntity(e.getEntityAt(0)).getData();return(0,s.jsxs)("div",{className:"board-write-image-box",children:[(0,s.jsx)("img",{src:g,className:"board-write-image",alt:"Uploaded"}),(0,s.jsx)("div",{className:"icon-button image-close",onClick:()=>(t=>{if(!a.current)return;a.current.value="";const e=E.filter((e=>e.id!==t));S(e);const r=c.filter((e=>e.id!==t));l(r);const o=d.getCurrentContent(),i=o.getBlockMap().find((e=>{const r=e.getEntityAt(0);if(r){const e=o.getEntity(r).getData();return(null===e||void 0===e?void 0:e.id)===t}return!1}));if(!i)return void console.warn("Block not found for id:",t);const s=i.getKey(),g=n.SelectionState.createEmpty(s).merge({anchorOffset:0,focusOffset:i.getLength()}),C=n.Modifier.removeRange(o,g,"backward"),h=n.SelectionState.createEmpty(s).merge({anchorOffset:0,focusOffset:1}),_=n.Modifier.removeRange(C,h,"forward"),N=n.Modifier.setBlockType(_,g,"unstyled"),O=n.EditorState.push(d,N,"remove-range");u(O)})(C),children:(0,s.jsx)("div",{className:"icon close-icon"})})]})}},4003:(t,e,r)=>{r.d(e,{z:()=>n});var o=r(4291);r(5696);const n=Object.keys(o._).reduce(((t,e)=>{const r=o._[e];return e.startsWith("CUSTOM_COLOR_")?t[e]={color:r}:e.startsWith("CUSTOM_BACKGROUND_")&&(t[e]={backgroundColor:r}),t}),{})},4291:(t,e,r)=>{r.d(e,{_:()=>n});r(2676);var o=function(t){return t.CUSTOM_COLOR_DEFAULT="#000000",t.CUSTOM_COLOR_GRAY="#808080",t.CUSTOM_COLOR_BROWN="#A52A2A",t.CUSTOM_COLOR_ORANGE="#FFA500",t.CUSTOM_COLOR_YELLOW="#FFFF00",t.CUSTOM_COLOR_GREEN="#008000",t.CUSTOM_COLOR_BLUE="#0000FF",t.CUSTOM_COLOR_PURPLE="#800080",t.CUSTOM_COLOR_PINK="#FFC0CB",t.CUSTOM_COLOR_RED="#FF0000",t.CUSTOM_BACKGROUND_DEFAULT="#FFFFFF",t.CUSTOM_BACKGROUND_GRAY="#F0F0F0",t.CUSTOM_BACKGROUND_BROWN="#D2B48C",t.CUSTOM_BACKGROUND_ORANGE="#FFE4B5",t.CUSTOM_BACKGROUND_YELLOW="#FFFACD",t.CUSTOM_BACKGROUND_GREEN="#E0FFE0",t.CUSTOM_BACKGROUND_BLUE="#E0F7FF",t.CUSTOM_BACKGROUND_PURPLE="#F3E5F5",t.CUSTOM_BACKGROUND_PINK="#FFEBE9",t.CUSTOM_BACKGROUND_RED="#FFE6E6",t}(o||{});const n=o},2676:(t,e,r)=>{r.d(e,{A:()=>n});var o=function(t){return t.SUCCESS="SU",t.VALIDATION_FAILED="VF",t.DUPLICATE_EMAIL="DE",t.DUPLICATE_NICKNAME="DN",t.DUPLICATE_TEL_NUMBER="DT",t.NOT_EXISTED_USER="NU",t.NOT_EXISTED_BOARD="NB",t.NOT_EXISTED_COMMENT="NC",t.NOT_EXISTED_CHANNEL="NEC",t.NOT_EXISTED_VIDEO="NV",t.SIGN_IN_FAIL="SF",t.AUTHORIZATION_FAIL="AF",t.NO_PERMISSION="NP",t.TRANSCRIPT_PROCESSING="TP",t.TRANSCRIPT_FAILED="TF",t.TRANSCRIPT_UNAVAILABLE="TU",t.TRANSCRIPT_RETRY_EXHAUSTED="TR",t.DATABASE_ERROR="DBE",t}(o||{});const n=o},2645:(t,e,r)=>{r.r(e),r.d(e,{default:()=>T});var o=r(5043),n=r(4990),i=r(7764),s=r(3216),a=r(5407),c=r(1284);const l=t=>Object.values(t).map((t=>{let{data:e}=t;return{id:e.id,url:e.src}}));var d=r(4410),u=r(9321),E=r(5742),S=(r(8478),r(6149));const g={editor:"editorStyles_editor__NpcsM",headlineButtonWrapper:"editorStyles_headlineButtonWrapper__rUGOX",headlineButton:"editorStyles_headlineButton__QD1Al",toolbarContainer:"editorStyles_toolbarContainer__U8gQI"};var C=r(1277),h=r(4003),_=r(7712),N=r(579);const O=(0,E.A)(),{Toolbar:p}=O,x=[O];function T(){const t=(0,o.useRef)(null),e=(0,o.useRef)(null),{imageInputRef:r}=(0,n.Nq)(),{boardNumber:O}=(0,s.g)(),{title:T,setTitle:f}=(0,n.Nq)(),{content:R,setContent:j}=(0,n.Nq)(),{category:m,setCategory:v}=(0,n.Nq)(),{boardImageFileList:U,setBoardImageFileList:A}=(0,n.Nq)(),{loginUser:y}=(0,n.nS)(),[b,F]=(0,a.lT)(),[B,M]=(0,o.useState)([]),{editorState:L,setEditorState:I}=(0,n.Uw)(),D=(0,o.useRef)(null),k=()=>L,G=t=>I(t),K=(0,s.Zp)(),w=async t=>{if(!t)return;const{code:r}=t;if("NB"===r&&alert("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4."),"DBE"===r&&alert("\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc624\ub958\uc785\ub2c8\ub2e4."),"SU"!==r)return void K((0,i.aJ)());const{title:o,content:n,category:s,boardImageList:a,writerEmail:c}=t.data;let u={};if(u=JSON.parse(n).entityMap,u){const t=l(u);console.log(t),M(t)}f(o),v(s);const E=(0,d.convertFromRaw)(JSON.parse(n)),S=d.EditorState.createWithContent(E);I(S),y&&y.email===c?e.current&&(e.current.style.height="auto",e.current.style.height="".concat(e.current.scrollHeight,"px")):K((0,i.aJ)())};(0,o.useEffect)((()=>{b.accessToken?O&&((0,c.ud)(m,O).then(w),D.current&&D.current.focus()):K((0,i.lx)())}),[O]);return(0,N.jsx)("div",{id:"board-update-wrapper",children:(0,N.jsx)("div",{className:"board-update-container",children:(0,N.jsxs)("div",{className:"board-update-box",children:[(0,N.jsxs)("div",{className:"board-update-title-box",children:[(0,N.jsx)("div",{className:"category-select-box",children:(0,N.jsxs)("select",{className:"category-select",value:m,onChange:t=>{const{value:e}=t.target;v(e)},children:[(0,N.jsx)("option",{value:"",children:"\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694"}),(0,N.jsx)("option",{value:"java",children:"Java"}),(0,N.jsx)("option",{value:"javascript",children:"JavaScript"}),(0,N.jsx)("option",{value:"sql",children:"SQL"}),(0,N.jsx)("option",{value:"spring",children:"Spring"}),(0,N.jsx)("option",{value:"spring-boot",children:"Spring Boot"}),(0,N.jsx)("option",{value:"spring-security",children:"Spring Security"}),(0,N.jsx)("option",{value:"mybatis",children:"MyBatis"}),(0,N.jsx)("option",{value:"jpa",children:"JPA"}),(0,N.jsx)("option",{value:"git",children:"Git"}),(0,N.jsx)("option",{value:"AWS",children:"AWS"}),(0,N.jsx)("option",{value:"computer-science",children:"Computer Science"}),(0,N.jsx)("option",{value:"network",children:"Network"}),(0,N.jsx)("option",{value:"react",children:"React"}),(0,N.jsx)("option",{value:"\ubb38\uc81c\ud574\uacb0",children:"\ubb38\uc81c\ud574\uacb0"}),(0,N.jsx)("option",{value:"\ub3d9\uae30\ubd80\uc5ec",children:"\ub3d9\uae30\ubd80\uc5ec"}),(0,N.jsx)("option",{value:"\uc54c\uace0\ub9ac\uc998",children:"\uc54c\uace0\ub9ac\uc998"}),(0,N.jsx)("option",{value:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624",children:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624"})]})}),(0,N.jsx)("textarea",{ref:t,className:"board-update-title-textarea",rows:1,placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694.",value:T,onChange:e=>{const{value:r}=e.target;f(r),t.current&&(t.current.style.height="auto",t.current.style.height="".concat(t.current.scrollHeight,"px"))}})]}),(0,N.jsx)("div",{className:"divider"}),(0,N.jsxs)("div",{className:"board-update-content-box",children:[(0,N.jsxs)("div",{className:g.editor,children:[(0,N.jsx)("div",{className:g.toolbarContainer,children:(0,N.jsx)(p,{children:t=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(S.qZ,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.$r,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.zo,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.M3,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(E.w,{}),(0,N.jsx)(S.NN,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.NM,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.J7,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.P4,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.II,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.A4,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(S.Zu,{...t,getEditorState:k,setEditorState:G}),(0,N.jsx)(E.w,{}),(0,N.jsx)(C.a,{getEditorState:k,setEditorState:G})]})})}),(0,N.jsx)(u.Ay,{editorState:L,onChange:t=>{I(t);const e=JSON.stringify((0,d.convertToRaw)(t.getCurrentContent()));j(e)},keyBindingFn:t=>{if("code-block"===d.RichUtils.getCurrentBlockType(L)){if("Enter"===t.key&&t.shiftKey)return"shift-enter";if("Enter"===t.key)return"enter";if("Tab"===t.key)return"tab"}return(0,d.getDefaultKeyBinding)(t)||void 0},handleKeyCommand:t=>{if("code-block"===d.RichUtils.getCurrentBlockType(L)){const e=L.getCurrentContent(),r=L.getSelection();if("enter"===t){const t=d.Modifier.insertText(e,r,"\n");return I(d.EditorState.push(L,t,"insert-characters")),"handled"}if("tab"===t){const t=d.Modifier.replaceText(e,r,"    ");return I(d.EditorState.push(L,t,"insert-characters")),"handled"}if("shift-enter"===t){const t=d.EditorState.push(L,d.Modifier.splitBlock(e,r),"split-block");return I(d.RichUtils.toggleBlockType(t,"unstyled")),"handled"}}return d.RichUtils.handleKeyCommand(L,t)?"handled":"not-handled"},blockRendererFn:t=>{if("atomic"===t.getType()){const e=L.getCurrentContent(),r=t.getEntityAt(0);if(!r)return null;if("IMAGE"===e.getEntity(r).getType())return{component:_.A,editable:!1}}return null},blockStyleFn:t=>"code-block"===t.getType()?"custom-code-block":"",plugins:x,customStyleMap:h.z})]}),(0,N.jsx)("div",{className:"icon-button",onClick:()=>{r.current&&r.current.click()},children:(0,N.jsx)("div",{className:"icon image-box-light-icon"})}),(0,N.jsx)("input",{ref:r,type:"file",accept:"image/*",style:{display:"none"},onChange:t=>{if(!t.target.files||!t.target.files.length)return;const e=t.target.files,o=[...B],n=[...U];let i=L;Array.from(e).forEach((t=>{const e="image_".concat(Date.now()),r=URL.createObjectURL(t);o.push({id:e,url:r}),n.push({id:e,file:t});const s=i.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:r,id:e}),a=s.getLastCreatedEntityKey();i=d.AtomicBlockUtils.insertAtomicBlock(d.EditorState.set(i,{currentContent:s}),a," ")})),M(o),A(n),I(i),r.current&&(r.current.value="")}})]})]})})})}}}]);
//# sourceMappingURL=889.c35a6e6d.chunk.js.map