"use strict";(self.webpackChunkboard_front=self.webpackChunkboard_front||[]).push([[663],{1277:(t,e,r)=>{r.d(e,{a:()=>a});var o=r(5043),i=r(4410),n=r(4291),s=r(579);const a=t=>{let{getEditorState:e,setEditorState:r}=t;const[a,c]=(0,o.useState)(!1),l=Object.keys(n._).filter((t=>t.startsWith("CUSTOM_COLOR_"))),d=Object.keys(n._).filter((t=>t.startsWith("CUSTOM_BACKGROUND_"))),u=t=>{const o=i.RichUtils.toggleInlineStyle(e(),t);r(o)};return(0,o.useEffect)((()=>{c(!1)}),[]),(0,s.jsxs)("div",{className:"color-button-container",children:[(0,s.jsx)("button",{className:"color-toggle-button",onClick:()=>c(!a)}),a&&(0,s.jsxs)("div",{className:"color-popup",children:[(0,s.jsxs)("div",{className:"color-section",children:[(0,s.jsx)("div",{className:"color-section-title",children:"\ud14d\uc2a4\ud2b8 \uc0c9\uc0c1"}),(0,s.jsx)("div",{className:"color-buttons",children:l.map((t=>(0,s.jsx)("button",{className:"color-button",onClick:()=>u(t),style:{backgroundColor:n._[t]}},t)))})]}),(0,s.jsxs)("div",{className:"color-section",children:[(0,s.jsx)("div",{className:"color-section-title",children:"\ubc30\uacbd \uc0c9\uc0c1"}),(0,s.jsx)("div",{className:"color-buttons",children:d.map((t=>(0,s.jsx)("button",{className:"color-button",onClick:()=>u(t),style:{backgroundColor:n._[t]}},t)))})]})]})]})}},7712:(t,e,r)=>{r.d(e,{A:()=>a});var o=r(5043),i=r(4410),n=r(4990),s=r(579);const a=t=>{let{block:e,contentState:r}=t;const{imageInputRef:a}=(0,n.Nq)(),{boardImageFileList:c,setBoardImageFileList:l}=(0,n.Nq)(),{editorState:d,setEditorState:u}=(0,n.Uw)(),[E,S]=(0,o.useState)([]),{src:C,id:_}=r.getEntity(e.getEntityAt(0)).getData();return(0,s.jsxs)("div",{className:"board-write-image-box",children:[(0,s.jsx)("img",{src:C,className:"board-write-image",alt:"Uploaded"}),(0,s.jsx)("div",{className:"icon-button image-close",onClick:()=>(t=>{if(!a.current)return;a.current.value="";const e=E.filter((e=>e.id!==t));S(e);const r=c.filter((e=>e.id!==t));l(r);const o=d.getCurrentContent(),n=o.getBlockMap().find((e=>{const r=e.getEntityAt(0);if(r){const e=o.getEntity(r).getData();return(null===e||void 0===e?void 0:e.id)===t}return!1}));if(!n)return void console.warn("Block not found for id:",t);const s=n.getKey(),C=i.SelectionState.createEmpty(s).merge({anchorOffset:0,focusOffset:n.getLength()}),_=i.Modifier.removeRange(o,C,"backward"),g=i.SelectionState.createEmpty(s).merge({anchorOffset:0,focusOffset:1}),N=i.Modifier.removeRange(_,g,"forward"),O=i.Modifier.setBlockType(N,C,"unstyled"),h=i.EditorState.push(d,O,"remove-range");u(h)})(_),children:(0,s.jsx)("div",{className:"icon close-icon"})})]})}},4003:(t,e,r)=>{r.d(e,{z:()=>i});var o=r(4291);r(5696);const i=Object.keys(o._).reduce(((t,e)=>{const r=o._[e];return e.startsWith("CUSTOM_COLOR_")?t[e]={color:r}:e.startsWith("CUSTOM_BACKGROUND_")&&(t[e]={backgroundColor:r}),t}),{})},4291:(t,e,r)=>{r.d(e,{_:()=>i});r(2676);var o=function(t){return t.CUSTOM_COLOR_DEFAULT="#000000",t.CUSTOM_COLOR_GRAY="#808080",t.CUSTOM_COLOR_BROWN="#A52A2A",t.CUSTOM_COLOR_ORANGE="#FFA500",t.CUSTOM_COLOR_YELLOW="#FFFF00",t.CUSTOM_COLOR_GREEN="#008000",t.CUSTOM_COLOR_BLUE="#0000FF",t.CUSTOM_COLOR_PURPLE="#800080",t.CUSTOM_COLOR_PINK="#FFC0CB",t.CUSTOM_COLOR_RED="#FF0000",t.CUSTOM_BACKGROUND_DEFAULT="#FFFFFF",t.CUSTOM_BACKGROUND_GRAY="#F0F0F0",t.CUSTOM_BACKGROUND_BROWN="#D2B48C",t.CUSTOM_BACKGROUND_ORANGE="#FFE4B5",t.CUSTOM_BACKGROUND_YELLOW="#FFFACD",t.CUSTOM_BACKGROUND_GREEN="#E0FFE0",t.CUSTOM_BACKGROUND_BLUE="#E0F7FF",t.CUSTOM_BACKGROUND_PURPLE="#F3E5F5",t.CUSTOM_BACKGROUND_PINK="#FFEBE9",t.CUSTOM_BACKGROUND_RED="#FFE6E6",t}(o||{});const i=o},2676:(t,e,r)=>{r.d(e,{A:()=>i});var o=function(t){return t.SUCCESS="SU",t.VALIDATION_FAILED="VF",t.DUPLICATE_EMAIL="DE",t.DUPLICATE_NICKNAME="DN",t.DUPLICATE_TEL_NUMBER="DT",t.NOT_EXISTED_USER="NU",t.NOT_EXISTED_BOARD="NB",t.NOT_EXISTED_COMMENT="NC",t.NOT_EXISTED_CHANNEL="NEC",t.NOT_EXISTED_VIDEO="NV",t.SIGN_IN_FAIL="SF",t.AUTHORIZATION_FAIL="AF",t.NO_PERMISSION="NP",t.TRANSCRIPT_PROCESSING="TP",t.TRANSCRIPT_FAILED="TF",t.TRANSCRIPT_UNAVAILABLE="TU",t.TRANSCRIPT_RETRY_EXHAUSTED="TR",t.DATABASE_ERROR="DBE",t}(o||{});const i=o},4639:(t,e,r)=>{r.r(e),r.d(e,{default:()=>x});var o=r(5043),i=r(4990),n=r(7764),s=r(3216),a=r(5407),c=r(4410),l=r(9321),d=r(5742),u=(r(8478),r(6149));const E={editor:"editorStyles_editor__q7kvv",headlineButtonWrapper:"editorStyles_headlineButtonWrapper__k52fh",headlineButton:"editorStyles_headlineButton__6uchb",toolbarContainer:"editorStyles_toolbarContainer__5e1jC"};var S=r(1277),C=r(4003),_=r(7712),g=r(579);const N=(0,d.A)(),{Toolbar:O}=N,h=[N];function x(){const t=(0,o.useRef)(null),{imageInputRef:e}=(0,i.Nq)(),{title:r,setTitle:N}=(0,i.Nq)(),{content:x,setContent:T}=(0,i.Nq)(),{category:j,setCategory:p}=(0,i.Nq)(),{boardImageFileList:R,setBoardImageFileList:v}=(0,i.Nq)(),{resetBoard:A}=(0,i.Nq)(),{editorState:f,setEditorState:m,resetEditorState:U}=(0,i.Uw)(),[b,F]=(0,a.lT)(),[y,B]=(0,o.useState)([]),L=(0,o.useRef)(null),M=()=>f,I=t=>m(t),D=(0,s.Zp)();(0,o.useEffect)((()=>{b.accessToken?(L.current&&L.current.focus(),A(),U()):D((0,n.lx)())}),[]);return(0,g.jsx)("div",{id:"board-write-wrapper",children:(0,g.jsx)("div",{className:"board-write-container",children:(0,g.jsxs)("div",{className:"board-write-box",children:[(0,g.jsxs)("div",{className:"board-write-title-box",children:[(0,g.jsx)("div",{className:"category-select-box",children:(0,g.jsxs)("select",{className:"category-select",value:j,onChange:t=>{const{value:e}=t.target;p(e)},children:[(0,g.jsx)("option",{value:"",children:"\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694"}),(0,g.jsx)("option",{value:"java",children:"Java"}),(0,g.jsx)("option",{value:"javascript",children:"JavaScript"}),(0,g.jsx)("option",{value:"sql",children:"SQL"}),(0,g.jsx)("option",{value:"spring",children:"Spring"}),(0,g.jsx)("option",{value:"spring-boot",children:"Spring Boot"}),(0,g.jsx)("option",{value:"spring-security",children:"Spring Security"}),(0,g.jsx)("option",{value:"mybatis",children:"MyBatis"}),(0,g.jsx)("option",{value:"jpa",children:"JPA"}),(0,g.jsx)("option",{value:"git",children:"Git"}),(0,g.jsx)("option",{value:"AWS",children:"AWS"}),(0,g.jsx)("option",{value:"computer-science",children:"Computer Science"}),(0,g.jsx)("option",{value:"network",children:"Network"}),(0,g.jsx)("option",{value:"react",children:"React"}),(0,g.jsx)("option",{value:"\ubb38\uc81c\ud574\uacb0",children:"\ubb38\uc81c\ud574\uacb0"}),(0,g.jsx)("option",{value:"\ub3d9\uae30\ubd80\uc5ec",children:"\ub3d9\uae30\ubd80\uc5ec"}),(0,g.jsx)("option",{value:"\uc54c\uace0\ub9ac\uc998",children:"\uc54c\uace0\ub9ac\uc998"}),(0,g.jsx)("option",{value:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624",children:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624"})]})}),(0,g.jsx)("textarea",{ref:t,className:"board-write-title-textarea",rows:1,placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694.",value:r,onChange:e=>{const{value:r}=e.target;N(r),t.current&&(t.current.style.height="auto",t.current.style.height="".concat(t.current.scrollHeight,"px"))}})]}),(0,g.jsx)("div",{className:"divider"}),(0,g.jsxs)("div",{className:"board-write-content-box",children:[(0,g.jsxs)("div",{className:E.editor,children:[(0,g.jsx)("div",{className:E.toolbarContainer,children:(0,g.jsx)(O,{children:t=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.qZ,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.$r,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.zo,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.M3,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(d.w,{}),(0,g.jsx)(u.NN,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.NM,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.J7,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.P4,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.II,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.A4,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(u.Zu,{...t,getEditorState:M,setEditorState:I}),(0,g.jsx)(d.w,{}),(0,g.jsx)(S.a,{getEditorState:M,setEditorState:I})]})})}),(0,g.jsx)(l.Ay,{editorState:f,onChange:t=>{m(t);const e=JSON.stringify((0,c.convertToRaw)(t.getCurrentContent()));T(e)},keyBindingFn:t=>{if("code-block"===c.RichUtils.getCurrentBlockType(f)){if("Enter"===t.key)return"enter";if("Tab"===t.key)return"tab"}return(0,c.getDefaultKeyBinding)(t)||void 0},handleKeyCommand:t=>{const e=c.RichUtils.getCurrentBlockType(f),r=f.getCurrentContent(),o=f.getSelection();if("code-block"===e){if("enter"===t){const t=c.Modifier.insertText(r,o,"\n");return m(c.EditorState.push(f,t,"insert-characters")),"handled"}if("tab"===t){const t=c.Modifier.replaceText(r,o,"    ");return m(c.EditorState.push(f,t,"insert-characters")),"handled"}}return c.RichUtils.handleKeyCommand(f,t)?"handled":"not-handled"},blockRendererFn:t=>{if("atomic"===t.getType()){const e=f.getCurrentContent(),r=t.getEntityAt(0);if(!r)return null;if("IMAGE"===e.getEntity(r).getType())return{component:_.A,editable:!1}}return null},blockStyleFn:t=>"code-block"===t.getType()?"custom-code-block":"",plugins:h,customStyleMap:C.z})]}),(0,g.jsx)("div",{className:"icon-button",onClick:()=>{e.current&&e.current.click()},children:(0,g.jsx)("div",{className:"icon image-box-light-icon"})}),(0,g.jsx)("input",{ref:e,type:"file",accept:"image/*",style:{display:"none"},onChange:t=>{if(!t.target.files||!t.target.files.length)return;const r=t.target.files,o=[...y],i=[...R];let n=f;Array.from(r).forEach((t=>{const e="image_".concat(Date.now()),r=URL.createObjectURL(t);o.push({id:e,url:r}),i.push({id:e,file:t});const s=n.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:r,id:e}),a=s.getLastCreatedEntityKey(),l=c.EditorState.set(n,{currentContent:s});m(c.AtomicBlockUtils.insertAtomicBlock(l,a," "))})),B(o),v(i),e.current&&(e.current.value="")},multiple:!0})]})]})})})}}}]);
//# sourceMappingURL=663.c718e919.chunk.js.map